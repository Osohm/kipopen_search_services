# Nutch regex-urlfilter.
# Specific for crawling data to feed our Solr Indexer.
# Author: Apache Foundation, Camilo Tejeiro.
# Licenses: Apache_v2. (Refer to licenses directory)

# Each pattern prefixed by '+' or '-' contains a regular expression, 
# The first matching pattern in the file determines whether a URL is 
# included or ignored.  If no pattern matches, the URL is ignored.

# Always remember to add the more specific rules first and the more 
# general rules last.

# skip file: ftp: and mailto: urls
-^(file|ftp|mailto):

# skip image and other suffixes we can't yet parse
# for a more extensive coverage use the urlfilter-suffix plugin
-\.(gif|GIF|jpg|JPG|png|PNG|ico|ICO|css|CSS|sit|SIT|eps|EPS|wmf|WMF|zip|ZIP|ppt|PPT|mpg|MPG|xls|XLS|gz|GZ|rpm|RPM|tgz|TGZ|mov|MOV|exe|EXE|jpeg|JPEG|bmp|BMP|js|JS)$

# skip URLs containing certain characters as probable queries, etc.
-[?*!@=]

# skip URLs with slash-delimited segment that repeats 3+ times, to break loops
-.*(/[^/]+)/[^/]+\1/[^/]+\1/

# Accept anything else (last rule to be added)
+.
